<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="data:," />
    <style>
      body {
        text-align: center;
        font-family: "Trebuchet MS", Arial;
        margin: 0 0 0 0;
        --color: rgb(255,255,255);
        --inv-color: rgb(0,0,0);
      }

      .rotated{
        transform:rotate(180deg);
      }

      .overlay-svg {
        position: absolute;
        top: 10%;
        left: 10%;
        width: 80%;
        height: 80%;
      }

      .time {
        position: absolute;
        top: 12%;
        width: 100%;
      }

      .rotate-button {
        position: absolute;
        top: 15%;
        right: 20%;
        padding: 10px 10px 10px 10px;
        width: 60px;
        height: 60px;
        &:hover {
          background-color: rgb(0,0,255);
        }
        border-radius: 10px;
      }

      .text {
        color: var(--color);
        font-size: 40px;
        opacity: 100%;
      }

      .button-container {
        display: flex;
        flex-direction: column;
        gap: 5%;
        position: absolute;
        top: 35%;
        left: 14%;
        height: 30%;
        width: 10%;
      }

      .button {
        background-color: unset;
        height: 50px;
        width: 100%;
        border-radius: 10px;

        &:hover {
          background-color: var(--color);
          opacity: 50%;
          .text {
            color: var(--inv-color);
          }
        }
      }

      .selected {
        background-color: var(--color);
        opacity: 100%;
        .text {
          color: var(--inv-color);
        }
        &:hover {
          opacity: 50%;
        }
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
  <body>
    <img id="photo" src='fondo6.png' width="100%" height="100%"/>

    <svg
      viewBox="0 0 198.4375 132.29166"
      version="1.1"
      id="svg1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:svg="http://www.w3.org/2000/svg"
      class="overlay-svg"
      >
      <defs
        id="defs1" />
      <g
        id="layer1"
        transform="translate(0.52916503)">
        <g
          id="g15"
          transform="matrix(0.69710614,0,0,0.69710614,-11.021926,-10.098355)"
          style="stroke-width:1.13863576;stroke-dasharray:none">
          <ellipse
            style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:1.13863576;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
            id="path1"
            cx="157.78625"
            cy="109.10783"
            rx="25.571575"
            ry="25.263485" />
          <g
            id="g4"
            transform="matrix(1.530704,0,0,1,-97.449133,1.0264033e-5)"
            style="stroke-width:0.92032074;stroke-dasharray:none">
            <path
              style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:0.92032074;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
              d="m 177.24403,109.37241 h 6.37837"
              id="path3" />
            <path
              style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:0.92032074;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
              d="m 183.47592,109.37241 h 6.37837"
              id="path4" />
          </g>
          <g
            id="g6"
            transform="matrix(1.530704,0,0,1,-149.09873,1.0264031e-5)"
            style="stroke-width:0.92032074;stroke-dasharray:none">
            <path
              style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:0.92032074;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
              d="m 177.24403,109.37241 h 6.37837"
              id="path5" />
            <path
              style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:0.92032074;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
              d="m 183.47592,109.37241 h 6.37837"
              id="path6" />
          </g>
          <g
            id="g12"
            transform="matrix(0,1.530704,-1,0,267.42324,-197.37968)"
            style="stroke-width:0.92032074;stroke-dasharray:none">
            <path
              style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:0.92032074;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
              d="m 177.24403,109.37241 h 6.37837"
              id="path11" />
            <path
              style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:0.92032074;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
              d="m 183.47592,109.37241 h 6.37837"
              id="path12" />
          </g>
          <g
            id="g14"
            transform="matrix(0,1.530704,-1,0,267.42324,-146.21142)"
            style="stroke-width:0.92032074;stroke-dasharray:none">
            <path
              style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:0.92032074;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
              d="m 177.24403,109.37241 h 6.37837"
              id="path13" />
            <path
              style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:0.92032074;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
              d="m 183.47592,109.37241 h 6.37837"
              id="path14" />
          </g>
        </g>
        <g
          id="g21">
          <path
            style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:2.11667;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
            d="M 0.52916825,30.126831 V 1.0583333 l 54.47007375,1e-6"
            id="path15" />
          <path
            style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:2.11667;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
            d="M 196.85,30.126831 V 1.0583333 l -54.47008,1e-6"
            id="path16" />
          <path
            style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:2.11667;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
            d="m 0.52916825,102.16483 v 29.0685 H 54.999242"
            id="path17" />
          <path
            style="fill:#ffffff;fill-opacity:0;stroke:var(--color);stroke-width:2.11667;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
            d="m 196.85,102.16483 v 29.0685 h -54.47008"
            id="path18" />
        </g>
        <g
          id="g22">
          <text
            xml:space="preserve"
            style="font-size:8.70193px;font-family:Ubuntu;-inkscape-font-specification:Ubuntu;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:var(--color);fill-opacity:1;stroke:var(--color);stroke-width:0;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
            x="27.107025"
            y="14.164822"
            id="text21"
            transform="scale(1.0141515,0.98604597)"><tspan
              id="tspan21"
              style="fill:var(--color);fill-opacity:1;stroke-width:0;stroke-dasharray:none"
              x="27.107025"
              y="14.164822">REC</tspan></text>
          <ellipse
            style="fill:#fe0000;fill-opacity:1;stroke:var(--color);stroke-width:0;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none"
            id="path21"
            cx="12.21787"
            cy="10.994022"
            rx="3.1572769"
            ry="3.0208659" />
        </g>
      </g>
    </svg>

    <div class="time">
      <span class="text" id="clock"></span>
    </div>

    <div class="rotate-button" onclick="document.getElementById('photo').classList.toggle('rotated');">
      <svg
        width="60"
        height="60"
        viewBox="0 0 6.3499999 6.35"
        version="1.1"
        id="svg1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:svg="http://www.w3.org/2000/svg">
        <defs
          id="defs1">
          <marker
            style="overflow:visible"
            id="Triangle"
            refX="0"
            refY="0"
            orient="auto-start-reverse"
            markerWidth="1"
            markerHeight="1"
            viewBox="0 0 1 1"
            preserveAspectRatio="xMidYMid">
            <path
              transform="scale(0.5)"
              style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
              d="M 5.77,0 -2.88,5 V -5 Z"
              id="path135" />
          </marker>
        </defs>
        <g
          id="layer1">
          <path
            style="fill:#474747;fill-opacity:0;stroke:var(--color);stroke-width:0.430338;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;marker-start:url(#Triangle)"
            id="path4"
            d="M -2.0711025,1.5706284 A 2.7034926,2.4660258 0 0 1 0.31990284,3.8487053 2.7034926,2.4660258 0 0 1 -1.7000482,6.4082834 2.7034926,2.4660258 0 0 1 -4.8271936,5.0630054"
            transform="matrix(0.15733141,-0.98754586,0.97649435,0.21554301,0,0)" />
        </g>
      </svg>
    </div>

    <div class="button-container">
      <div class="button">
        <div class="text">
          Action 1
        </div>
      </div>
      <div class="button">
        <div class="text">
          Action 2
        </div>
      </div>
      <div class="button">
        <div class="text">
          Action 3
        </div>
      </div>
      <div class="button">
        <div class="text">
          Action 4
        </div>
      </div>
      <div class="button">
        <div class="text">
          Action 5
        </div>
      </div>
      <div class="button">
        <div class="text">
          Action 6
        </div>
      </div>
    </div>
    <script>
      var deg = 0;

      function rotatePhoto() {
        var img = document.getElementById("photo");
        deg += 180 % 360;
        img.style.transform = "rotate(" + deg + "deg)";
      }
    </script>
    <script>
      (function () {

        var clockElement = document.getElementById( "clock" );

        function updateClock ( clock ) {
          clock.innerHTML = new Date().toLocaleTimeString();
        }

        function capturePhoto() {
          var xhr = new XMLHttpRequest();
          xhr.onreadystatechange = function() {
            if (this.status == 200) {
              let canvas = document.getElementById("photo");
              console.log(this.responseText.length)
              if (this.responseText.length > 0) {
                console.log("Change",this.responseText.length)
                canvas.src = "data:image/jpg;base64," + this.responseText;
              }
            }
          };
          xhr.open('GET', "/capture", true);
          xhr.send();
        }

        setInterval(function () {
            updateClock( clockElement );
        }, 1000);

        setInterval(capturePhoto, 10000);
      }());
    </script>
  </body>
</html>
